function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:44.3,lng:-78.32},zoom:12}),ptboBound=new google.maps.Data,ptboAreas=new google.maps.Data,ptboCatholicElementary=new google.maps.Data;ptboBound.loadGeoJson("https://googledrive.com/host/0BxlTeKPFeJ-KbWRRM2VkdTROaU0/PTBO_Boundary.geojson"),ptboAreas.loadGeoJson("https://googledrive.com/host/0BxlTeKPFeJ-KbWRRM2VkdTROaU0/CommunityAreas.geojson"),ptboCatholicElementary.loadGeoJson("https://googledrive.com/host/0BxlTeKPFeJ-KbWRRM2VkdTROaU0/CatholicElementary.geojson"),ptboBound.setStyle(function(e){return{fillColor:e.getProperty("color"),fillOpacity:e.getProperty("Opacity"),clickable:e.getProperty("click"),strokeWeight:1}}),ptboBound.addListener("mouseover",function(e){ptboBound.revertStyle(),ptboBound.overrideStyle(e.feature,{strokeWeight:3})}),ptboBound.addListener("mouseout",function(e){ptboBound.revertStyle()}),ptboBound.setMap(map),google.maps.event.addListener(map,"click",function(){t.close()});var t=new google.maps.InfoWindow({maxWidth:325});ptboAreas.addListener("click",function(e){t.setContent("<strong>"+e.feature.getProperty("Name")+"</strong><br><br>"+e.feature.getProperty("Des1")+" "+e.feature.getProperty("Des2")),t.setPosition(e.latLng),t.setOptions({pixelOffset:new google.maps.Size(0,-34)}),t.open(map)}),ptboCatholicElementary.addListener("click",function(e){t.setContent("<strong>"+e.feature.getProperty("Name")+"</strong><br><br>"+e.feature.getProperty("City")),t.setPosition(e.latLng),t.setOptions({pixelOffset:new google.maps.Size(0,-34)}),t.open(map)});var o=document.getElementById("pac-input"),a=new google.maps.places.SearchBox(o);map.controls[google.maps.ControlPosition.TOP_LEFT].push(o),map.addListener("bounds_changed",function(){a.setBounds(map.getBounds())});var n=[];a.addListener("places_changed",function(){var e=a.getPlaces();if(0!=e.length){n.forEach(function(e){e.setMap(null)}),n=[];var t=new google.maps.LatLngBounds;e.forEach(function(e){var o={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};n.push(new google.maps.Marker({map:map,icon:o,title:e.name,position:e.geometry.location})),e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location)}),map.fitBounds(t);var o=google.maps.event.addListener(map,"idle",function(){map.getZoom()>16&&map.setZoom(16),google.maps.event.removeListener(o)})}})}function addLayer(e){ptboAreas.setMap(null),ptboBound.setMap(null),ptboCatholicElementary.setMap(null),setLayerStyle(e),setMouseover(e),e.setMap(map)}function setLayerStyle(e){e.setStyle(function(e){return{fillColor:e.getProperty("Color"),fillOpacity:e.getProperty("Opacity"),strokeColor:e.getProperty("St_Color"),strokeWeight:e.getProperty("St_Weight"),strokeOpacity:e.getProperty("St_Opacity")}})}function setMouseover(e){e.addListener("mouseover",function(t){e.revertStyle(),e.overrideStyle(t.feature,{strokeWeight:3})}),e.addListener("mouseout",function(t){e.revertStyle()})}var map;