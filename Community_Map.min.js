function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:44.3,lng:-78.32},zoom:12}),ptboBound=new google.maps.Data,ptboAreas=new google.maps.Data,ptboCatholicElementary=new google.maps.Data,ptboCatholicSecondary=new google.maps.Data;ptboBound.loadGeoJson("https://googledrive.com/host/0BxlTeKPFeJ-KbWRRM2VkdTROaU0/PTBO_Boundary.geojson"),ptboAreas.loadGeoJson("https://googledrive.com/host/0BxlTeKPFeJ-KbWRRM2VkdTROaU0/CommunityAreas.geojson"),ptboCatholicElementary.loadGeoJson("/ptbo-comunitymap/Data/CElementary.geojson"),ptboCatholicSecondary.loadGeoJson("https://googledrive.com/host/0BxlTeKPFeJ-KbWRRM2VkdTROaU0/CSecondary.geojson"),ptboBound.setStyle(function(e){return{fillColor:e.getProperty("color"),fillOpacity:e.getProperty("Opacity"),clickable:e.getProperty("click"),strokeWeight:1}}),ptboBound.addListener("mouseover",function(e){ptboBound.revertStyle(),ptboBound.overrideStyle(e.feature,{strokeWeight:3})}),ptboBound.addListener("mouseout",function(e){ptboBound.revertStyle()}),ptboBound.setMap(map),google.maps.event.addListener(map,"click",function(){o.close()});var o=new google.maps.InfoWindow({maxWidth:325});ptboAreas.addListener("click",function(e){o.setContent("<strong>"+e.feature.getProperty("Name")+"</strong><br><br>"+e.feature.getProperty("Des1")+" "+e.feature.getProperty("Des2")),o.setPosition(e.latLng),o.setOptions({pixelOffset:new google.maps.Size(0,-34)}),o.open(map)}),ptboCatholicElementary.addListener("click",function(e){o.setContent("<strong>"+e.feature.getProperty("Name")+"</strong><br><br>"+e.feature.getProperty("City")),o.setPosition(e.latLng),o.setOptions({pixelOffset:new google.maps.Size(0,-34)}),o.open(map)}),ptboCatholicSecondary.addListener("click",function(e){o.setContent("<strong>"+e.feature.getProperty("Secondary")),o.setPosition(e.latLng),o.setOptions({pixelOffset:new google.maps.Size(0,-34)}),o.open(map)});var t=document.getElementById("pac-input"),n=new google.maps.places.SearchBox(t);map.controls[google.maps.ControlPosition.TOP_LEFT].push(t),map.addListener("bounds_changed",function(){n.setBounds(map.getBounds())});var a=[];n.addListener("places_changed",function(){var e=n.getPlaces();if(0!=e.length){a.forEach(function(e){e.setMap(null)}),a=[];var o=new google.maps.LatLngBounds;e.forEach(function(e){var t={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};a.push(new google.maps.Marker({map:map,icon:t,title:e.name,position:e.geometry.location})),e.geometry.viewport?o.union(e.geometry.viewport):o.extend(e.geometry.location)}),map.fitBounds(o);var t=google.maps.event.addListener(map,"idle",function(){map.getZoom()>16&&map.setZoom(16),google.maps.event.removeListener(t)})}})}function addLayer(e){ptboAreas.setMap(null),ptboBound.setMap(null),ptboCatholicElementary.setMap(null),ptboCatholicSecondary.setMap(null),setLayerStyle(e),setMouseover(e),e.setMap(map)}function setLayerStyle(e){e.setStyle(function(e){return{fillColor:e.getProperty("Color"),fillOpacity:e.getProperty("Opacity"),strokeColor:e.getProperty("St_Color"),strokeWeight:e.getProperty("St_Weight"),strokeOpacity:e.getProperty("St_Opacity")}})}function setMouseover(e){e.addListener("mouseover",function(o){e.revertStyle(),e.overrideStyle(o.feature,{strokeWeight:3})}),e.addListener("mouseout",function(o){e.revertStyle()})}var map;